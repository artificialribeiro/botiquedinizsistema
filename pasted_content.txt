# üõçÔ∏è BOUTIQUE DINIZ - API DE RECEBIMENTO DE DADOS

**Desenvolvido por:** Atlas Solu√ß√µes

---

## üìã INSTRU√á√ïES DE IMPLEMENTA√á√ÉO

### Passo 1: Criar a Planilha Google Sheets

1. Acesse: https://sheets.google.com
2. Crie uma nova planilha chamada "Boutique Diniz - Clientes"
3. Copie o ID da planilha (est√° na URL, entre `/d/` e `/edit`)
   - Exemplo: `https://docs.google.com/spreadsheets/d/ABC123XYZ/edit`
   - O ID seria: `ABC123XYZ`

### Passo 2: Criar o Google Apps Script

1. Na planilha, clique em **Extens√µes** ‚Üí **Apps Script**
2. Apague o c√≥digo padr√£o
3. Cole o c√≥digo do arquivo `boutique-diniz-api.gs`
4. **IMPORTANTE:** Na linha 13, substitua `COLE_AQUI_O_ID_DA_SUA_PLANILHA` pelo ID da planilha
5. Na linha 19, configure seu email para notifica√ß√µes (opcional)
6. Clique em **Salvar** (√≠cone de disquete)

### Passo 3: Publicar como Web App

1. Clique em **Implantar** ‚Üí **Nova implanta√ß√£o**
2. Clique no √≠cone de engrenagem ‚öôÔ∏è ‚Üí Selecione **Aplicativo da Web**
3. Configure:
   - **Descri√ß√£o:** API Boutique Diniz
   - **Executar como:** Eu (seu email)
   - **Quem tem acesso:** Qualquer pessoa
4. Clique em **Implantar**
5. Copie a **URL do aplicativo da Web** - esta √© sua URL da API! üéâ

### Passo 4: Testar a API

Execute a fun√ß√£o `testarAPI()` no Apps Script para verificar se tudo est√° funcionando.

---

## üîó COMO USAR A API

### Formato da Requisi√ß√£o GET

```
https://script.google.com/macros/s/SEU_ID_AQUI/exec?email=EMAIL_DO_CLIENTE&dados=DADOS_JSON
```

### Par√¢metros Obrigat√≥rios

| Par√¢metro | Descri√ß√£o | Exemplo |
|-----------|-----------|---------|
| `email` | Email do cliente | `cliente@email.com` |
| `dados` | Dados em formato JSON | `{"nome":"Jo√£o","telefone":"27999999999"}` |

### Campos Autom√°ticos (n√£o precisa enviar)

- ‚úÖ **marca**: Sempre "Boutique Diniz"
- ‚úÖ **dataRecebimento**: Data/hora autom√°tica
- ‚úÖ **origem**: "Atlas Solu√ß√µes"

---

## üí° EXEMPLOS DE USO

### Exemplo 1: Envio Simples

```
https://script.google.com/macros/s/SEU_ID/exec?email=maria@email.com&dados={"nome":"Maria Silva","telefone":"27999887766"}
```

### Exemplo 2: Envio Completo

```
https://script.google.com/macros/s/SEU_ID/exec?email=joao@email.com&dados={"nome":"Jo√£o Santos","telefone":"27988776655","cidade":"Cachoeiro de Itapemirim","mensagem":"Gostaria de saber sobre vestidos"}
```

### Exemplo 3: JavaScript (Frontend)

```javascript
// Fun√ß√£o para enviar dados para a API
async function enviarDadosBoutique(email, nome, telefone, cidade, mensagem) {
    const dados = {
        nome: nome,
        telefone: telefone,
        cidade: cidade,
        mensagem: mensagem
    };
    
    const url = `https://script.google.com/macros/s/SEU_ID/exec?email=${encodeURIComponent(email)}&dados=${encodeURIComponent(JSON.stringify(dados))}`;
    
    try {
        const resposta = await fetch(url);
        const resultado = await resposta.json();
        
        if (resultado.status === 'success') {
            console.log('‚úÖ Dados enviados com sucesso!');
            console.log(resultado);
        } else {
            console.error('‚ùå Erro:', resultado.mensagem);
        }
    } catch (erro) {
        console.error('‚ùå Erro ao enviar:', erro);
    }
}

// Exemplo de uso
enviarDadosBoutique(
    'cliente@email.com',
    'Ana Paula',
    '27999887766',
    'Vit√≥ria',
    'Interesse na cole√ß√£o de ver√£o'
);
```

### Exemplo 4: HTML - Formul√°rio de Contato

```html
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Boutique Diniz - Contato</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 500px;
            margin: 50px auto;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background: #4a86e8;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #357abd;
        }
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        .mensagem {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            display: none;
        }
        .sucesso {
            background: #d4edda;
            color: #155724;
        }
        .erro {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="logo">
        <h1>üõçÔ∏è Boutique Diniz</h1>
        <p>Entre em contato conosco</p>
    </div>

    <div id="mensagem" class="mensagem"></div>

    <form id="formContato">
        <div class="form-group">
            <label>Nome *</label>
            <input type="text" id="nome" required>
        </div>

        <div class="form-group">
            <label>Email *</label>
            <input type="email" id="email" required>
        </div>

        <div class="form-group">
            <label>Telefone *</label>
            <input type="tel" id="telefone" required>
        </div>

        <div class="form-group">
            <label>Cidade</label>
            <input type="text" id="cidade">
        </div>

        <div class="form-group">
            <label>Mensagem</label>
            <textarea id="mensagem" rows="4"></textarea>
        </div>

        <button type="submit">Enviar</button>
    </form>

    <script>
        const API_URL = 'https://script.google.com/macros/s/SEU_ID_AQUI/exec';

        document.getElementById('formContato').addEventListener('submit', async (e) => {
            e.preventDefault();

            const dados = {
                nome: document.getElementById('nome').value,
                telefone: document.getElementById('telefone').value,
                cidade: document.getElementById('cidade').value,
                mensagem: document.getElementById('mensagem').value
            };

            const email = document.getElementById('email').value;

            const url = `${API_URL}?email=${encodeURIComponent(email)}&dados=${encodeURIComponent(JSON.stringify(dados))}`;

            try {
                const resposta = await fetch(url);
                const resultado = await resposta.json();

                const divMensagem = document.getElementById('mensagem');
                
                if (resultado.status === 'success') {
                    divMensagem.className = 'mensagem sucesso';
                    divMensagem.textContent = '‚úÖ Mensagem enviada com sucesso! Entraremos em contato em breve.';
                    document.getElementById('formContato').reset();
                } else {
                    divMensagem.className = 'mensagem erro';
                    divMensagem.textContent = '‚ùå Erro: ' + resultado.mensagem;
                }

                divMensagem.style.display = 'block';

            } catch (erro) {
                const divMensagem = document.getElementById('mensagem');
                divMensagem.className = 'mensagem erro';
                divMensagem.textContent = '‚ùå Erro ao enviar mensagem. Tente novamente.';
                divMensagem.style.display = 'block';
            }
        });
    </script>
</body>
</html>
```

---

## üìä ESTRUTURA DA PLANILHA

Os dados s√£o salvos automaticamente com as seguintes colunas:

| Coluna | Descri√ß√£o |
|--------|-----------|
| Data/Hora | Momento do recebimento |
| Marca | Sempre "Boutique Diniz" |
| Email | Email do cliente |
| Nome | Nome do cliente |
| Telefone | Telefone de contato |
| Cidade | Cidade do cliente |
| Mensagem | Mensagem enviada |
| Dados Completos | JSON completo recebido |
| Origem | Sempre "Atlas Solu√ß√µes" |

---

## üéØ RESPOSTAS DA API

### Sucesso (200)

```json
{
  "status": "success",
  "codigo": 200,
  "marca": "Boutique Diniz",
  "sistema": "Atlas Solu√ß√µes",
  "dados": {
    "mensagem": "Dados recebidos com sucesso!",
    "email": "cliente@email.com",
    "marca": "Boutique Diniz",
    "timestamp": "12/02/2026 10:30:45"
  }
}
```

### Erro (400)

```json
{
  "status": "error",
  "codigo": 400,
  "marca": "Boutique Diniz",
  "sistema": "Atlas Solu√ß√µes",
  "mensagem": "Email √© obrigat√≥rio"
}
```

---

## üîí SEGURAN√áA

- ‚úÖ Valida√ß√£o de email obrigat√≥ria
- ‚úÖ Valida√ß√£o de formato JSON
- ‚úÖ Registro com timestamp autom√°tico
- ‚úÖ Marca obrigat√≥ria (Boutique Diniz)
- ‚úÖ Logs de erro detalhados

---

## üìß NOTIFICA√á√ïES POR EMAIL (Opcional)

Para ativar notifica√ß√µes por email:

1. Descomente a linha 49 do script: `// enviarNotificacao(dados);`
2. Configure o email na linha 19
3. Voc√™ receber√° um email formatado a cada novo contato

---

## üõ†Ô∏è MANUTEN√á√ÉO

### Ver Logs de Execu√ß√£o

1. No Apps Script, clique em **Execu√ß√µes**
2. Veja hist√≥rico de requisi√ß√µes e erros

### Testar Manualmente

Execute a fun√ß√£o `testarAPI()` no editor do Apps Script

### Criar Nova Vers√£o

Ao fazer altera√ß√µes:
1. Salve o script
2. **Implantar** ‚Üí **Gerenciar implanta√ß√µes**
3. Clique no √≠cone de l√°pis ‚úèÔ∏è
4. Selecione **Nova vers√£o**
5. Implante

---

## üìû SUPORTE

**Desenvolvido por:** Atlas Solu√ß√µes  
**Para:** Boutique Diniz  
**Data:** Fevereiro 2026

---

## ‚ú® RECURSOS EXTRAS

### Campos que voc√™ pode enviar no JSON:

- `nome` ou `name`
- `telefone` ou `phone`
- `cidade` ou `city`
- `mensagem` ou `message`
- Qualquer outro campo personalizado que desejar!

Todos os campos extras ser√£o salvos na coluna "Dados Completos" da planilha.

---

**üéâ Pronto! Sua API est√° funcionando!**